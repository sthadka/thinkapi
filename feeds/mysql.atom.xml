<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>thinkAPI</title><link href="http://thinkapi.com/" rel="alternate"></link><link href="http://thinkapi.com/feeds/mysql.atom.xml" rel="self"></link><id>http://thinkapi.com/</id><updated>2008-10-07T19:19:00+02:00</updated><entry><title>How to skip MySQL replication counter</title><link href="http://thinkapi.com/blog/how-to-skip-mysql-replication-counter/" rel="alternate"></link><updated>2008-10-07T19:19:00+02:00</updated><author><name>Sukumar Yethadka</name></author><id>tag:thinkapi.com,2008-10-07:blog/how-to-skip-mysql-replication-counter/</id><summary type="html">&lt;p&gt;There are such times when MySQL replication stops when you run certain updates
on the master and the slave fails. Like for example you may have run a create
table or an alter table on the master and further inserts but these DDLs get
skipped and the inserts into these non-existent tables cause the slave to
error out and stop.&lt;/p&gt;
&lt;p&gt;A simple way out of this is to run the missing DDLs on the slave and push the
counter by a step. This is not recommended as this might cause data
inconsistency.&lt;/p&gt;
&lt;p&gt;Use the below sql to skip the counter by 1.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="k"&gt;SET&lt;/span&gt; &lt;span class="k"&gt;GLOBAL&lt;/span&gt; &lt;span class="n"&gt;SQL_SLAVE_SKIP_COUNTER&lt;/span&gt; &lt;span class="o"&gt;=&lt;/span&gt; &lt;span class="mi"&gt;1&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;span class="k"&gt;START&lt;/span&gt; &lt;span class="n"&gt;SLAVE&lt;/span&gt;&lt;span class="p"&gt;;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;


&lt;p&gt;Just remember to use the value 1 for any SQL statement that does not use
AUTO_INCREMENT or LAST_INSERT_ID(), otherwise you will need to use the value
2. Statements that use AUTO_INCREMENT or LAST_INSERT_ID() take up 2 events in
the binary log.&lt;/p&gt;
&lt;p&gt;To skip lots of duplicate errors, you can set this in my.cnf&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;slave-skip-errors = 1062
&lt;/pre&gt;&lt;/div&gt;</summary><category term="mysql"></category><category term="replication"></category></entry></feed>